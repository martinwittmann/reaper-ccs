initial_state:
  DISPLAY: encoders
  CURRENT_COLOR: $COLOR1

# To save lots of repetition, allow settings defaults that can be overriden
# on each page.
# This is useful if variables and mappings should stay the same on all pages.
variables:
  SCREEN1: 00
  SCREEN2: 01
  SCREEN3: 02
  SCREEN4: 03
  SCREEN5: 04
  SCREEN6: 05
  SCREEN7: 06
  SCREEN8: 07

  CENTER_SCREEN: 08

  COLOR_OFF: 00
  COLOR_WHITE: 03

  PART1_LABEL: Juno 1
  PART2_LABEL: Juno 2
  PART3_LABEL: Vital
  PART4_LABEL: 
  PART5_LABEL: 
  PART6_LABEL: 
  PART7_LABEL: 
  PART8_LABEL: Mixer

  COLOR1: 25
  COLOR2: 09
  COLOR3: 0D
  COLOR4: 35
  COLOR5: 48
  COLOR6: 02
  COLOR7: 15
  COLOR8: 29

  COLOR1_BRIGHT: 25
  COLOR2_BRIGHT: 09
  COLOR3_BRIGHT: 0D
  COLOR4_BRIGHT: 35
  COLOR5_BRIGHT: 48
  COLOR6_BRIGHT: 02
  COLOR7_BRIGHT: 15
  COLOR8_BRIGHT: 29

  COLOR1_DARK: 27
  COLOR2_DARK: 0B
  COLOR3_DARK: 0E
  COLOR4_DARK: 37
  COLOR5_DARK: 06
  COLOR6_DARK: 01
  COLOR7_DARK: 17
  COLOR8_DARK: 2B

  BUTTON1: 33
  BUTTON2: 34
  BUTTON3: 35
  BUTTON4: 36
  BUTTON5: 37
  BUTTON6: 38
  BUTTON7: 39
  BUTTON8: 3A
  BUTTON9: 3B
  BUTTON10: 3C
  BUTTON11: 3D
  BUTTON12: 3E
  BUTTON13: 3F
  BUTTON14: 40
  BUTTON15: 41
  BUTTON16: 42
  BUTTON17: 43
  BUTTON18: 44
  BUTTON19: 45
  BUTTON20: 46
  BUTTON21: 47
  BUTTON22: 48
  BUTTON23: 49
  BUTTON24: 4A

  BUTTON9_LABEL:  Pulse
  BUTTON10_LABEL: Saw
  BUTTON11_LABEL: Sub
  BUTTON12_LABEL: F-Env
  BUTTON13_LABEL: A-Env/G
  BUTTON14_LABEL: PwmMode
  BUTTON15_LABEL: Chor I
  BUTTON16_LABEL: Chor II

  BUTTON17_LABEL: LfoTrMd
  BUTTON18_LABEL: LfoShape
  BUTTON19_LABEL: GldeType
  BUTTON20_LABEL: GldePoly
  BUTTON21_LABEL: ""
  BUTTON22_LABEL: ""
  BUTTON23_LABEL: ""
  BUTTON24_LABEL: ""

  BUTTON_SCREEN_UP: 51
  BUTTON_SCREEN_DOWN: 52

  BUTTON_RIGHT_UP: 57
  BUTTON_RIGHT_DOWN: 58

  FADER1: 29
  FADER2: 2A
  FADER3: 2B
  FADER4: 2C
  FADER5: 2D
  FADER6: 2E
  FADER7: 2F
  FADER8: 30

  FADER1_LABEL: Frequ
  FADER2_LABEL: Res.
  FADER3_LABEL: Sub
  FADER4_LABEL: Noise
  FADER5_LABEL: Attack
  FADER6_LABEL: Decay
  FADER7_LABEL: Sustain
  FADER8_LABEL: Release

  C_LEFT_BAR: 00
  C_RIGHT_TOP_BAR: 01
  C_RIGHT_BOTTOM_BAR: 02

  PAD1: 60
  PAD2: 61
  PAD3: 62
  PAD4: 63
  PAD5: 64
  PAD6: 65
  PAD7: 66
  PAD8: 67

  PAD9: 70
  PAD10: 71
  PAD11: 72
  PAD12: 73
  PAD13: 74
  PAD14: 75
  PAD15: 76
  PAD16: 77

actions:
  activate_page:
    actions:
      - "[page.set_selected_part]"
      - conditions:
          $_STATE.DISPLAY.is: encoders
        actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_encoders]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"

      - conditions:
          $_STATE.DISPLAY.is: buttons
        actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"

      - conditions:
          $_STATE.DISPLAY.is: faders
        actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_faders]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
  set_selected_part:
    actions:
      - "[slmk3.start_buffer:screen_properties]"
      - conditions:
          $_STATE.DISPLAY.is: encoders
        actions:
        - "[slmk3.sc_set_knob_lower_text_selected:$SCREEN1:00]"
        - "[slmk3.sc_set_knob_lower_text_selected:$SCREEN2:00]"
        - "[slmk3.sc_set_knob_lower_text_selected:$SCREEN3:00]"
        - "[slmk3.sc_set_knob_lower_text_selected:$SCREEN4:00]"
        - "[slmk3.sc_set_knob_lower_text_selected:$SCREEN5:00]"
        - "[slmk3.sc_set_knob_lower_text_selected:$SCREEN6:00]"
        - "[slmk3.sc_set_knob_lower_text_selected:$SCREEN7:00]"
        - "[slmk3.sc_set_knob_lower_text_selected:$SCREEN8:00]"
        - "[slmk3.sc_set_knob_lower_text_selected:$PAGE_SCREEN_COLUMN:01]"

      - conditions:
          $_STATE.DISPLAY.is: buttons
        actions:
        - "[slmk3.sc_set_bottom_box_selected:$SCREEN1:00]"
        - "[slmk3.sc_set_bottom_box_selected:$SCREEN2:00]"
        - "[slmk3.sc_set_bottom_box_selected:$SCREEN3:00]"
        - "[slmk3.sc_set_bottom_box_selected:$SCREEN4:00]"
        - "[slmk3.sc_set_bottom_box_selected:$SCREEN5:00]"
        - "[slmk3.sc_set_bottom_box_selected:$SCREEN6:00]"
        - "[slmk3.sc_set_bottom_box_selected:$SCREEN7:00]"
        - "[slmk3.sc_set_bottom_box_selected:$SCREEN8:00]"
        - "[slmk3.sc_set_bottom_box_selected:$PAGE_SCREEN_COLUMN:01]"

      - "[slmk3.stop_buffer:screen_properties]"


      - "[slmk3.set_button_color:$BUTTON1:$COLOR_OFF]"
      - "[slmk3.set_button_color:$BUTTON2:$COLOR_OFF]"
      - "[slmk3.set_button_color:$BUTTON3:$COLOR_OFF]"
      - "[slmk3.set_button_color:$BUTTON4:$COLOR_OFF]"
      - "[slmk3.set_button_color:$BUTTON5:$COLOR_OFF]"
      - "[slmk3.set_button_color:$BUTTON6:$COLOR_OFF]"
      - "[slmk3.set_button_color:$BUTTON7:$COLOR_OFF]"
      - "[slmk3.set_button_color:$BUTTON8:$COLOR_OFF]"
      - "[slmk3.set_button_color:$PAGE_BUTTON:$PAGE_COLOR]"

  display_encoders:
    actions:
    - "[slmk3.set_button_color:$BUTTON_SCREEN_DOWN:$COLOR_OFF]"
    - "[slmk3.set_button_color:$BUTTON_SCREEN_UP:$COLOR_WHITE]"
    - "[slmk3.set_button_color:$BUTTON_RIGHT_UP:$COLOR_OFF]"
    - "[slmk3.set_button_color:$BUTTON_RIGHT_DOWN:$COLOR_OFF]"

    - "[slmk3.set_knob_layout]"

    - "[slmk3.start_buffer:screen_properties]"

    - "[slmk3.sc_set_knob_color:$SCREEN1:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN2:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN3:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN4:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN5:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN6:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN7:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN8:$COLOR_WHITE]"
 
    - "[slmk3.sc_set_knob_label:$SCREEN1:$ENCODER1_LABEL]"
    - "[slmk3.sc_set_knob_label:$SCREEN2:$ENCODER2_LABEL]"
    - "[slmk3.sc_set_knob_label:$SCREEN3:$ENCODER3_LABEL]"
    - "[slmk3.sc_set_knob_label:$SCREEN4:$ENCODER4_LABEL]"
    - "[slmk3.sc_set_knob_label:$SCREEN5:$ENCODER5_LABEL]"
    - "[slmk3.sc_set_knob_label:$SCREEN6:$ENCODER6_LABEL]"
    - "[slmk3.sc_set_knob_label:$SCREEN7:$ENCODER7_LABEL]"
    - "[slmk3.sc_set_knob_label:$SCREEN8:$ENCODER8_LABEL]"

    - "[slmk3.sc_set_knob_bottom_label:$SCREEN1:$PART1_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN2:$PART2_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN3:$PART3_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN4:$PART4_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN5:$PART5_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN6:$PART6_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN7:$PART7_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN8:$PART8_LABEL]"

    - "[slmk3.sc_set_knob_bottom_color:$SCREEN1:$COLOR1]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN2:$COLOR1]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN3:$COLOR2]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN4:$COLOR_OFF]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN5:$COLOR_OFF]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN6:$COLOR_OFF]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN7:$COLOR_OFF]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN8:$COLOR8]"

    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN1:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN2:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN3:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN4:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN5:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN6:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN7:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN8:$PAGE_COLOR]"

    - "[slmk3.sc_set_center_screen_right_bar_color:$C_RIGHT_TOP_BAR:$COLOR_OFF]"
    - "[slmk3.sc_set_center_screen_right_bar_color:$C_RIGHT_BOTTOM_BAR:$COLOR_OFF]"


    - "[slmk3.stop_buffer:screen_properties]"

    - "[slmk3.set_fader_color:$FADER1:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER2:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER3:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER4:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER5:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER6:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER7:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER8:$COLOR_OFF]"

    - "[page.set_state:DISPLAY:encoders]"

  display_buttons:
    actions:
    - "[slmk3.set_button_color:$BUTTON_SCREEN_DOWN:$COLOR_OFF]"
    - "[slmk3.set_button_color:$BUTTON_SCREEN_UP:$COLOR_OFF]"
    - "[slmk3.set_button_color:$BUTTON_RIGHT_UP:$COLOR_WHITE]"
    - "[slmk3.set_button_color:$BUTTON_RIGHT_DOWN:$COLOR_OFF]"

    - "[slmk3.set_box_layout]"

    - "[slmk3.start_buffer:screen_properties]"

    - "[slmk3.sc_set_top_box_label:$SCREEN1:$BUTTON9_LABEL]"
    - "[slmk3.sc_set_top_box_label:$SCREEN2:$BUTTON10_LABEL]"
    - "[slmk3.sc_set_top_box_label:$SCREEN3:$BUTTON11_LABEL]"
    - "[slmk3.sc_set_top_box_label:$SCREEN4:$BUTTON12_LABEL]"
    - "[slmk3.sc_set_top_box_label:$SCREEN5:$BUTTON13_LABEL]"
    - "[slmk3.sc_set_top_box_label:$SCREEN6:$BUTTON14_LABEL]"
    - "[slmk3.sc_set_top_box_label:$SCREEN7:$BUTTON15_LABEL]"
    - "[slmk3.sc_set_top_box_label:$SCREEN8:$BUTTON16_LABEL]"

    - "[slmk3.sc_set_top_box_color:$SCREEN1:$COLOR1]"
    - "[slmk3.sc_set_top_box_color:$SCREEN2:$COLOR2]"
    - "[slmk3.sc_set_top_box_color:$SCREEN3:$COLOR3]"
    - "[slmk3.sc_set_top_box_color:$SCREEN4:$COLOR4]"
    - "[slmk3.sc_set_top_box_color:$SCREEN5:$COLOR5]"
    - "[slmk3.sc_set_top_box_color:$SCREEN6:$COLOR6]"
    - "[slmk3.sc_set_top_box_color:$SCREEN7:$COLOR7]"
    - "[slmk3.sc_set_top_box_color:$SCREEN8:$COLOR8]"

    - "[slmk3.sc_set_center_box_label:$SCREEN1:$BUTTON17_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN2:$BUTTON18_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN3:$BUTTON19_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN4:$BUTTON20_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN5:$BUTTON21_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN6:$BUTTON22_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN7:$BUTTON23_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN8:$BUTTON24_LABEL]"

    - "[slmk3.sc_set_center_box_color:$SCREEN1:$COLOR1]"
    - "[slmk3.sc_set_center_box_color:$SCREEN2:$COLOR2]"
    - "[slmk3.sc_set_center_box_color:$SCREEN3:$COLOR3]"
    - "[slmk3.sc_set_center_box_color:$SCREEN4:$COLOR4]"
    - "[slmk3.sc_set_center_box_color:$SCREEN5:$COLOR5]"
    - "[slmk3.sc_set_center_box_color:$SCREEN6:$COLOR6]"
    - "[slmk3.sc_set_center_box_color:$SCREEN7:$COLOR7]"
    - "[slmk3.sc_set_center_box_color:$SCREEN8:$COLOR8]"

    - "[slmk3.sc_set_bottom_box_label:$SCREEN1:$PART1_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN2:$PART2_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN3:$PART3_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN4:$PART4_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN5:$PART5_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN6:$PART6_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN7:$PART7_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN8:$PART8_LABEL]"

    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN1:$COLOR1]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN2:$COLOR1]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN3:$COLOR1]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN4:$COLOR4]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN5:$COLOR5]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN6:$COLOR6]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN7:$COLOR7]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN8:$COLOR8]"

    - "[slmk3.sc_set_center_screen_right_bar_color:$C_RIGHT_TOP_BAR:$PAGE_COLOR]"
    - "[slmk3.sc_set_center_screen_right_bar_color:$C_RIGHT_BOTTOM_BAR:$PAGE_COLOR]"

    - "[slmk3.stop_buffer:screen_properties]"

    - "[slmk3.set_fader_color:$FADER1:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER2:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER3:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER4:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER5:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER6:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER7:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER8:$COLOR_OFF]"

    - "[page.set_state:DISPLAY:buttons]"

  display_faders:
    actions:
    - "[slmk3.set_button_color:$BUTTON_SCREEN_DOWN:$COLOR_OFF]"
    - "[slmk3.set_button_color:$BUTTON_SCREEN_UP:$COLOR_OFF]"
    - "[slmk3.set_button_color:$BUTTON_RIGHT_UP:$COLOR_OFF]"
    - "[slmk3.set_button_color:$BUTTON_RIGHT_DOWN:$COLOR_WHITE]"

    - "[slmk3.set_box_layout]"

    - "[slmk3.start_buffer:screen_properties]"

    - "[slmk3.sc_set_center_box_label:$SCREEN1:$FADER1_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN2:$FADER2_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN3:$FADER3_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN4:$FADER4_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN5:$FADER5_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN6:$FADER6_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN7:$FADER7_LABEL]"
    - "[slmk3.sc_set_center_box_label:$SCREEN8:$FADER8_LABEL]"

    - "[slmk3.sc_set_center_box_color:$SCREEN1:$COLOR1]"
    - "[slmk3.sc_set_center_box_color:$SCREEN2:$COLOR2]"
    - "[slmk3.sc_set_center_box_color:$SCREEN3:$COLOR3]"
    - "[slmk3.sc_set_center_box_color:$SCREEN4:$COLOR4]"
    - "[slmk3.sc_set_center_box_color:$SCREEN5:$COLOR5]"
    - "[slmk3.sc_set_center_box_color:$SCREEN6:$COLOR6]"
    - "[slmk3.sc_set_center_box_color:$SCREEN7:$COLOR7]"
    - "[slmk3.sc_set_center_box_color:$SCREEN8:$COLOR8]"

    - "[slmk3.sc_set_bottom_box_label:$SCREEN1:$PART1_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN2:$PART2_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN3:$PART3_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN4:$PART4_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN5:$PART5_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN6:$PART6_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN7:$PART7_LABEL]"
    - "[slmk3.sc_set_bottom_box_label:$SCREEN8:$PART8_LABEL]"

    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN1:$COLOR1]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN2:$COLOR1]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN3:$COLOR1]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN4:$COLOR4]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN5:$COLOR5]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN6:$COLOR6]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN7:$COLOR7]"
    - "[slmk3.sc_set_box_bottom_bar_color:$SCREEN8:$COLOR8]"


    - "[slmk3.sc_set_center_screen_right_bar_color:$C_RIGHT_TOP_BAR:$COLOR_OFF]"
    - "[slmk3.sc_set_center_screen_right_bar_color:$C_RIGHT_BOTTOM_BAR:$COLOR_OFF]"

    - "[slmk3.stop_buffer:screen_properties]"

    - "[slmk3.set_fader_color:$FADER1:$COLOR1_DARK]"
    - "[slmk3.set_fader_color:$FADER2:$COLOR2_DARK]"
    - "[slmk3.set_fader_color:$FADER3:$COLOR3_DARK]"
    - "[slmk3.set_fader_color:$FADER4:$COLOR4_DARK]"
    - "[slmk3.set_fader_color:$FADER5:$COLOR5_DARK]"
    - "[slmk3.set_fader_color:$FADER6:$COLOR6_DARK]"
    - "[slmk3.set_fader_color:$FADER7:$COLOR7_DARK]"
    - "[slmk3.set_fader_color:$FADER8:$COLOR8_DARK]"

    - "[page.set_state:DISPLAY:faders]"

  display_mixer:
    actions:
    - "[slmk3.set_knob_layout]"

    - "[slmk3.start_buffer:screen_properties]"

    - "[slmk3.sc_set_knob_color:$SCREEN1:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN2:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN3:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN4:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN5:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN6:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN7:$COLOR_WHITE]"
    - "[slmk3.sc_set_knob_color:$SCREEN8:$COLOR_WHITE]"
 
    - "[slmk3.sc_set_knob_label:$SCREEN1:$_STATE.TRACK1_NAME]"
    - "[slmk3.sc_set_knob_label:$SCREEN2:$_STATE.TRACK2_NAME]"
    - "[slmk3.sc_set_knob_label:$SCREEN3:$_STATE.TRACK3_NAME]"
    - "[slmk3.sc_set_knob_label:$SCREEN4:$_STATE.TRACK4_NAME]"
    - "[slmk3.sc_set_knob_label:$SCREEN5:$_STATE.TRACK5_NAME]"
    - "[slmk3.sc_set_knob_label:$SCREEN6:$_STATE.TRACK6_NAME]"
    - "[slmk3.sc_set_knob_label:$SCREEN7:$_STATE.TRACK7_NAME]"
    - "[slmk3.sc_set_knob_label:$SCREEN8:$_STATE.TRACK8_NAME]"

    - "[slmk3.sc_set_knob_bottom_label:$SCREEN1:$PART1_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN2:$PART2_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN3:$PART3_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN4:$PART4_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN5:$PART5_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN6:$PART6_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN7:$PART7_LABEL]"
    - "[slmk3.sc_set_knob_bottom_label:$SCREEN8:$PART8_LABEL]"

    - "[slmk3.sc_set_knob_bottom_color:$SCREEN1:$COLOR1]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN2:$COLOR1]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN3:$COLOR2]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN4:$COLOR_OFF]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN5:$COLOR_OFF]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN6:$COLOR_OFF]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN7:$COLOR_OFF]"
    - "[slmk3.sc_set_knob_bottom_color:$SCREEN8:$COLOR8]"

    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN1:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN2:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN3:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN4:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN5:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN6:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN7:$PAGE_COLOR]"
    - "[slmk3.sc_set_knob_top_bar_color:$SCREEN8:$PAGE_COLOR]"

    - "[slmk3.sc_set_center_screen_right_bar_color:$C_RIGHT_TOP_BAR:$COLOR_OFF]"
    - "[slmk3.sc_set_center_screen_right_bar_color:$C_RIGHT_BOTTOM_BAR:$COLOR_OFF]"

    - "[slmk3.stop_buffer:screen_properties]"

    - "[slmk3.set_fader_color:$FADER1:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER2:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER3:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER4:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER5:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER6:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER7:$COLOR_OFF]"
    - "[slmk3.set_fader_color:$FADER8:$COLOR_OFF]"

    - "[page.set_state:DISPLAY:mixer]"


mappings:
  before_value_changes:
    - "[slmk3.start_buffer:screen_properties]"
    - "[slmk3.start_screen_change]"
    - "[slmk3.stop_buffer:screen_properties]"
  after_value_changes:
    - "[slmk3.start_buffer:screen_properties]"
    - "[slmk3.end_screen_change]"
    - "[slmk3.stop_buffer:screen_properties]"

    - "[slmk3.flush_buffer:screen_properties]"

  controls:
    slmk3.button1:
      on_press:
        - conditions:
            $_STATE.CURRENT_PAGE.isnot: page1
          actions:
            - "[session.load_page:page1]"

    slmk3.button2:
      on_press:
        - conditions:
            $_STATE.CURRENT_PAGE.isnot: page2
          actions:
            - "[session.load_page:page2]"

    slmk3.button3:
      on_press:
        - conditions:
            $_STATE.CURRENT_PAGE.isnot: page3
          actions:
            - "[session.load_page:page3]"

    slmk3.button8:
      on_press:
        - conditions:
            $_STATE.CURRENT_PAGE.isnot: page8
          actions:
            - "[session.load_page:page8]"

    slmk3.button_screen_up:
      on_press:
        - "[slmk3.start_buffer:screen_properties]"
        - "[slmk3.start_screen_change]"
        - "[slmk3.stop_buffer:screen_properties]"
        - "[page.display_encoders]"
        - "[slmk3.start_buffer:screen_properties]"
        - "[slmk3.end_screen_change]"
        - "[slmk3.stop_buffer:screen_properties]"
        - "[slmk3.flush_buffer:screen_properties]"
        - "[page.update_controller_ui]"

    slmk3.button_right_up:
      on_press:
        - "[slmk3.start_buffer:screen_properties]"
        - "[slmk3.start_screen_change]"
        - "[slmk3.stop_buffer:screen_properties]"
        - "[page.display_buttons]"
        - "[slmk3.start_buffer:screen_properties]"
        - "[slmk3.end_screen_change]"
        - "[slmk3.stop_buffer:screen_properties]"
        - "[slmk3.flush_buffer:screen_properties]"
        - "[page.update_controller_ui]"

    slmk3.button_right_down:
      on_press:
        - "[slmk3.start_buffer:screen_properties]"
        - "[slmk3.start_screen_change]"
        - "[slmk3.stop_buffer:screen_properties]"
        - "[page.display_faders]"
        - "[slmk3.start_buffer:screen_properties]"
        - "[slmk3.end_screen_change]"
        - "[slmk3.stop_buffer:screen_properties]"
        - "[slmk3.flush_buffer:screen_properties]"
        - "[page.update_controller_ui]"

    slmk3.button9:
      mapping: track1.fx1.dco_pulse_enabled
      mapping_type: toggle
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_top_box_value:$SCREEN1:$FORMATTED_VALUE]"
            - conditions:
                $VALUE.is: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_top_box_selected:$SCREEN1:01]"
            - conditions:
                $VALUE.isnot: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_top_box_selected:$SCREEN1:00]"
            - "[slmk3.stop_buffer:screen_properties]"

        - conditions:
            $VALUE.is: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON9:$COLOR1_BRIGHT]"

        - conditions:
            $VALUE.isnot: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON9:$COLOR1_DARK]"

      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"


    slmk3.button10:
      mapping: track1.fx1.dco_saw_enabled
      mapping_type: toggle
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_top_box_value:$SCREEN2:$FORMATTED_VALUE]"
            - conditions:
                $VALUE.is: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_top_box_selected:$SCREEN2:01]"
            - conditions:
                $VALUE.isnot: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_top_box_selected:$SCREEN2:00]"
            - "[slmk3.stop_buffer:screen_properties]"

        - conditions:
            $VALUE.is: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON10:$COLOR2_BRIGHT]"

        - conditions:
            $VALUE.isnot: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON10:$COLOR2_DARK]"

      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.button11:
      mapping: track1.fx1.dco_sub_osc_enabled
      mapping_type: toggle
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_top_box_value:$SCREEN3:$FORMATTED_VALUE]"
            - conditions:
                $VALUE.is: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_top_box_selected:$SCREEN3:01]"
            - conditions:
                $VALUE.isnot: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_top_box_selected:$SCREEN3:00]"
            - "[slmk3.stop_buffer:screen_properties]"

        - conditions:
            $VALUE.is: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON11:$COLOR3_BRIGHT]"

        - conditions:
            $VALUE.isnot: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON11:$COLOR3_DARK]"

      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.button12:
      mapping: track1.fx1.filter_env_mode
      mapping_type: enum_button
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_top_box_value:$SCREEN4:$FORMATTED_VALUE]"
            - "[slmk3.stop_buffer:screen_properties]"
            - "[slmk3.set_button_color:$BUTTON12:$COLOR4_DARK]"

      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.button13:
      mapping: track1.fx1.vca_mode
      mapping_type: enum_button
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_top_box_value:$SCREEN5:$FORMATTED_VALUE]"
            - "[slmk3.stop_buffer:screen_properties]"
            - "[slmk3.set_button_color:$BUTTON13:$COLOR5_DARK]"

      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.button14:
      mapping: track1.fx1.dco_pwm_mode
      mapping_type: enum_button
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_top_box_value:$SCREEN6:$FORMATTED_VALUE]"
            - "[slmk3.stop_buffer:screen_properties]"
            - "[slmk3.set_button_color:$BUTTON14:$COLOR6_DARK]"
      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.button15:
      mapping: track1.fx1.chorus_1
      mapping_type: toggle
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_top_box_value:$SCREEN7:$FORMATTED_VALUE]"
            - conditions:
                $VALUE.is: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_top_box_selected:$SCREEN7:01]"
            - conditions:
                $VALUE.isnot: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_top_box_selected:$SCREEN7:00]"
            - "[slmk3.stop_buffer:screen_properties]"

        - conditions:
            $VALUE.is: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON15:$COLOR7_BRIGHT]"

        - conditions:
            $VALUE.isnot: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON15:$COLOR7_DARK]"

      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.button16:
      mapping: track1.fx1.chorus_2
      mapping_type: toggle
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_top_box_value:$SCREEN8:$FORMATTED_VALUE]"
            - conditions:
                $VALUE.is: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_top_box_selected:$SCREEN8:01]"
            - conditions:
                $VALUE.isnot: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_top_box_selected:$SCREEN8:00]"
            - "[slmk3.stop_buffer:screen_properties]"

        - conditions:
            $VALUE.is: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON16:$COLOR8_BRIGHT]"

        - conditions:
            $VALUE.isnot: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON16:$COLOR8_DARK]"

      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"


    slmk3.button17:
      mapping: track1.fx1.lfo_trigger_mode
      mapping_type: enum_button
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_center_box_value:$SCREEN1:$FORMATTED_VALUE]"
            - "[slmk3.stop_buffer:screen_properties]"
            - "[slmk3.set_button_color:$BUTTON17:$COLOR1_DARK]"

      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"


    slmk3.button18:
      mapping: track1.fx1.lfo_waveform
      mapping_type: enum_button
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_center_box_value:$SCREEN2:$FORMATTED_VALUE]"
            - "[slmk3.stop_buffer:screen_properties]"
            - "[slmk3.set_button_color:$BUTTON18:$COLOR2_DARK]"

      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"


    slmk3.button19:
      mapping: track1.fx1.portamento_mode
      mapping_type: enum_button
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_center_box_value:$SCREEN3:$FORMATTED_VALUE]"
            - "[slmk3.stop_buffer:screen_properties]"
            - "[slmk3.set_button_color:$BUTTON19:$COLOR3_DARK]"
        
      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.button20:
      mapping: track1.fx1.portamento_poly
      mapping_type: toggle
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: buttons
          actions:
            - "[slmk3.start_buffer:screen_properties]"
            - "[slmk3.sc_set_center_box_value:$SCREEN4:$FORMATTED_VALUE]"
            - conditions:
                $VALUE.is: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_center_box_selected:$SCREEN4:01]"
            - conditions:
                $VALUE.isnot: $MAX_VALUE
              actions:
              - "[slmk3.sc_set_center_box_selected:$SCREEN4:00]"
            - "[slmk3.stop_buffer:screen_properties]"

        - conditions:
            $VALUE.is: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON20:$COLOR4_BRIGHT]"

        - conditions:
            $VALUE.isnot: $MAX_VALUE
          actions:
          - "[slmk3.set_button_color:$BUTTON20:$COLOR4_DARK]"

      on_press:
        - conditions:
            $_STATE.DISPLAY.isnot: buttons
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_buttons]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"


    slmk3.fader1:
      mapping: track1.fx1.filter_cutoff
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.sc_set_center_box_value:$SCREEN1:$FORMATTED_VALUE]"
          - "[slmk3.stop_buffer:screen_properties]"

      on_change:
        - conditions:
            $_STATE.DISPLAY.isnot: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_faders]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.fader2:
      mapping: track1.fx1.filter_resonance
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.sc_set_center_box_value:$SCREEN2:$FORMATTED_VALUE]"
          - "[slmk3.stop_buffer:screen_properties]"

      on_change:
        - conditions:
            $_STATE.DISPLAY.isnot: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_faders]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.fader3:
      mapping: track1.fx1.dco_sub_osc_volume
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.sc_set_center_box_value:$SCREEN3:$FORMATTED_VALUE]"
          - "[slmk3.stop_buffer:screen_properties]"

      on_change:
        - conditions:
            $_STATE.DISPLAY.isnot: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_faders]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.fader4:
      mapping: track1.fx1.dco_noise_volume
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.sc_set_center_box_value:$SCREEN4:$FORMATTED_VALUE]"
          - "[slmk3.stop_buffer:screen_properties]"

      on_change:
        - conditions:
            $_STATE.DISPLAY.isnot: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_faders]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.fader5:
      mapping: track1.fx1.attack
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.sc_set_center_box_value:$SCREEN5:$FORMATTED_VALUE]"
          - "[slmk3.stop_buffer:screen_properties]"

      on_change:
        - conditions:
            $_STATE.DISPLAY.isnot: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_faders]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.fader6:
      mapping: track1.fx1.decay
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.sc_set_center_box_value:$SCREEN6:$FORMATTED_VALUE]"
          - "[slmk3.stop_buffer:screen_properties]"

      on_change:
        - conditions:
            $_STATE.DISPLAY.isnot: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_faders]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.fader7:
      mapping: track1.fx1.sustain
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.sc_set_center_box_value:$SCREEN7:$FORMATTED_VALUE]"
          - "[slmk3.stop_buffer:screen_properties]"

      on_change:
        - conditions:
            $_STATE.DISPLAY.isnot: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_faders]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.fader8:
      mapping: track1.fx1.release
      on_value_change:
        - conditions:
            $_STATE.DISPLAY.is: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.sc_set_center_box_value:$SCREEN8:$FORMATTED_VALUE]"
          - "[slmk3.stop_buffer:screen_properties]"

      on_change:
        - conditions:
            $_STATE.DISPLAY.isnot: faders
          actions:
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.start_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[page.display_faders]"
          - "[slmk3.start_buffer:screen_properties]"
          - "[slmk3.end_screen_change]"
          - "[slmk3.stop_buffer:screen_properties]"
          - "[slmk3.flush_buffer:screen_properties]"
          - "[page.update_controller_ui]"

    slmk3.pad1:
      mapping_type: radio_button
      mapping: track1.fx1.lfo_trigger_mode
      radio:
        value: SYNC
        on_selected:
          - "[slmk3.set_pad_color:$PAD1:$COLOR1_BRIGHT]"
        on_unselected:
          - "[slmk3.set_pad_color:$PAD1:$COLOR1_DARK]"

    slmk3.pad2:
      mapping: track1.fx1.lfo_trigger_mode
      mapping_type: radio_button
      radio:
        value: FREE
        on_selected:
          - "[slmk3.set_pad_color:$PAD2:$COLOR1_BRIGHT]"
        on_unselected:
          - "[slmk3.set_pad_color:$PAD2:$COLOR1_DARK]"

    slmk3.pad3:
      mapping: track1.fx1.lfo_trigger_mode
      mapping_type: radio_button
      radio:
        value: NOTE TRIG
        on_selected:
          - "[slmk3.set_pad_color:$PAD3:$COLOR1_BRIGHT]"
        on_unselected:
          - "[slmk3.set_pad_color:$PAD3:$COLOR1_DARK]"

    slmk3.pad9:
      mapping_type: radio_button
      mapping: track1.fx1_preset
      radio:
        value: witti1
        on_selected:
          - "[slmk3.set_pad_color:$PAD9:$COLOR1_BRIGHT]"
        on_unselected:
          - "[slmk3.set_pad_color:$PAD9:$COLOR1_DARK]"

    slmk3.pad10:
      mapping: track1.fx1_preset
      mapping_type: radio_button
      radio:
        value: witti2
        on_selected:
          - "[slmk3.set_pad_color:$PAD10:$COLOR1_BRIGHT]"
        on_unselected:
          - "[slmk3.set_pad_color:$PAD10:$COLOR1_DARK]"

    slmk3.pad11:
      mapping: track1.fx1_preset
      mapping_type: radio_button
      radio:
        value: witti22
        on_selected:
          - "[slmk3.set_pad_color:$PAD11:$COLOR1_BRIGHT]"
        on_unselected:
          - "[slmk3.set_pad_color:$PAD11:$COLOR1_DARK]"

    slmk3.button21:
      mapping: track1.fx1.lfo_trigger_mode
      mapping_type: radio_button
      radio:
        value: SYNC
        on_selected:
          - "[slmk3.set_button_color:$BUTTON21:$COLOR1_BRIGHT]"
        on_unselected:
          - "[slmk3.set_button_color:$BUTTON21:$COLOR1_DARK]"

    slmk3.button22:
      mapping: track1.fx1.lfo_trigger_mode
      mapping_type: radio_button
      radio:
        value: FREE
        on_selected:
          - "[slmk3.set_button_color:$BUTTON22:$COLOR1_BRIGHT]"
        on_unselected:
          - "[slmk3.set_button_color:$BUTTON22:$COLOR1_DARK]"

    slmk3.button23:
      mapping: track1.fx1.lfo_trigger_mode
      mapping_type: radio_button
      radio:
        value: NOTE TRIG
        on_selected:
          - "[slmk3.set_button_color:$BUTTON23:$COLOR1_BRIGHT]"
        on_unselected:
          - "[slmk3.set_button_color:$BUTTON23:$COLOR1_DARK]"

